{% extends "base.html" %}
{% block title %}Login — {{ club.name if club else 'FleetNests' }}{% endblock %}

{% block content %}
<div class="row justify-content-center mt-5">
  <div class="col-12 col-sm-8 col-md-5 col-lg-4">
    <div class="card shadow-sm login-card">
      <div class="card-body p-4">
        <div class="text-center mb-4">
          <img src="{{ url_for('static', filename='images/badge.svg') }}"
               class="login-brand-badge mb-3" alt="{{ club.name if club else 'FleetNests' }}"
               width="80" height="80" style="height:80px;width:80px">
          <h4 class="fw-bold mb-1" style="color:var(--navy)">{{ club.name if club else 'FleetNests' }}</h4>
          {% if is_demo %}
          <p class="text-muted small mb-0">Live Demo — Explore the full platform</p>
          {% else %}
          <p class="text-muted small mb-0">Member Reservation System</p>
          {% endif %}
        </div>
        <hr class="divider-gold">

        {% if is_demo %}
        {# ── Demo email-capture form ── #}
        <p class="text-center text-muted small mb-3">
          Enter your email to get instant access&mdash;no password needed.
        </p>
        <form method="post">
          <div class="mb-3">
            <label class="form-label" for="email">Your Email Address</label>
            <input type="email" class="form-control form-control-lg" id="email" name="email"
                   placeholder="you@example.com" autocomplete="email" autofocus required>
          </div>
          <button type="submit" class="btn btn-club-blue w-100 btn-lg">
            <i class="bi bi-arrow-right-circle me-1"></i>Explore the Demo
          </button>
        </form>
        <p class="text-center text-muted" style="font-size:0.75rem;margin-top:1rem">
          You'll be logged in as a club administrator. Data resets nightly.
        </p>

        {% else %}
        {# ── Standard member login ── #}
        <form method="post">
          <div class="mb-3">
            <label class="form-label" for="username">Username or Email</label>
            <input type="text" class="form-control" id="username" name="username"
                   autocomplete="username" autofocus required>
          </div>
          <div class="mb-3">
            <label class="form-label" for="password">Password</label>
            <input type="password" class="form-control" id="password" name="password"
                   autocomplete="current-password" required>
          </div>
          <button type="submit" class="btn btn-club-blue w-100">
            <i class="bi bi-box-arrow-in-right me-1"></i>Log In
          </button>
        </form>

        <p class="text-center text-muted small mt-3 mb-0">
          Don't have an account? Ask the club administrator.
        </p>
        <p class="text-center small mt-2 mb-0">
          <a href="{{ url_for('forgot_password') }}" class="text-muted">Forgot your password?</a>
        </p>
        {% endif %}

      </div>
    </div>
  </div>
</div>
{% endblock %}
