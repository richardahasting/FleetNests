# ── FleetNests Environment Configuration ────────────────────────────────────
# Copy to .env and fill in real values before starting the application.
# Never commit .env to version control.

# ── Database: Master Registry ─────────────────────────────────────────────────
# PostgreSQL database for the club registry, super-admins, and shared templates.
# In Docker Compose this points to the db-master service (port 5433).
MASTER_DATABASE_URL=postgresql://fleetnests_admin:changeme-master@localhost:5433/fleetnests_master

# Password for the master DB superuser (used in docker-compose.yml)
MASTER_DB_PASSWORD=changeme-master

# ── Database: Per-Club Host ───────────────────────────────────────────────────
# Host and credentials for the PostgreSQL server that holds club databases.
# provision_club() connects as PG_SUPERUSER to CREATE USER / CREATE DATABASE.
PG_HOST=localhost
PG_PORT=5434
PG_SUPERUSER=pg_superuser
PG_SUPERUSER_PASSWORD=changeme-clubs

# Password used by docker-compose to start the clubs DB container
CLUBS_DB_PASSWORD=changeme-clubs

# ── Per-Club Database Credentials ────────────────────────────────────────────
# One entry per provisioned club. Format: DB_PASS_<DB_USER_UPPER>
# DB user name is derived from short_name: "bentley" → club_bentley_user
# Add a line here and restart the app after provisioning each new club.
DB_PASS_CLUB_BENTLEY_USER=changeme-bentley
# DB_PASS_CLUB_SKYVIEW_USER=changeme-skyview

# ── Single-Club / Local Dev Mode ─────────────────────────────────────────────
# Set this to bypass subdomain resolution and always use a specific club.
# Useful for local development without wildcard DNS configured.
# Remove or leave blank in production (subdomain routing takes over).
CLUB_SHORT_NAME=bentley

# Legacy single-club fallback: if no master DB is configured, db.py falls
# back to DATABASE_URL for the club connection (original fleetnests mode).
# DATABASE_URL=postgresql://club_bentley_user:changeme-bentley@localhost:5434/club-bentley

# ── Flask Application ─────────────────────────────────────────────────────────
SECRET_KEY=replace-with-a-long-random-string
APP_PREFIX=/

# ── Email / SMTP ──────────────────────────────────────────────────────────────
EMAIL_ENABLED=false
SMTP_HOST=localhost
SMTP_PORT=25
# For external SMTP (e.g. Gmail, Postmark):
# SMTP_HOST=smtp.example.com
# SMTP_PORT=587
# SMTP_USER=noreply@myclub.com
# SMTP_PASS=smtp-password-here
EMAIL_FROM=noreply@myclub.com
APP_URL=https://bentley.fleetnests.com

# ── AI Feedback Routing ────────────────────────────────────────────────────────
# Routes member feedback: bugs → GitHub issues, other → email
ANTHROPIC_API_KEY=sk-ant-...
FEEDBACK_EMAIL=admin@myclub.com

# ── GitHub Integration (optional) ────────────────────────────────────────────
# Fine-grained PAT with Issues: Read+Write on your repo.
# Leave blank to disable GitHub issue filing (falls back to email).
GITHUB_TOKEN=ghp_...
GITHUB_REPO=owner/FleetNests
